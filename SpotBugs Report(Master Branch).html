
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta charset="UTF-8"/>
      <title>SpotBugs Report</title>
      <style type="text/css">
		.tablerow0 {
			background: #EEEEEE;
		}

		.tablerow1 {
			background: white;
		}

		.detailrow0 {
			background: #EEEEEE;
		}

		.detailrow1 {
			background: white;
		}

		.tableheader {
			background: #b9b9fe;
			font-size: larger;
		}
		</style>
   </head>
   <body>
      <h1>SpotBugs Report</h1>
      <p>Produced using <a href="https://spotbugs.github.io">SpotBugs</a>4.4.2.</p>
      <p>Project: 
			fastjson[fastjson]</p>
      <h2>Metrics</h2>
      <p>2135 lines of code analyzed,
	in 10 classes, 
	in 1 packages.</p>
      <table width="500" cellpadding="5" cellspacing="2">
         <tr class="tableheader">
            <th align="left">Metric</th>
            <th align="right">Total</th>
            <th align="right">Density*</th>
         </tr>
         <tr class="tablerow0">
            <td>High Priority Warnings</td>
            <td align="right">1</td>
            <td align="right">0.47</td>
         </tr>
         <tr class="tablerow1">
            <td>Medium Priority Warnings</td>
            <td align="right">16</td>
            <td align="right">7.49</td>
         </tr>
         <tr class="$totalClass">
            <td>
               <b>Total Warnings</b>
            </td>
            <td align="right">
               <b>17</b>
            </td>
            <td align="right">
               <b>7.96</b>
            </td>
         </tr>
      </table>
      <p>
         <i>(* Defects per Thousand lines of non-commenting source statements)</i>
      </p>
      <p>
         <br/>
         <br/>
      </p>
      <h2>Summary</h2>
      <table width="500" cellpadding="5" cellspacing="2">
         <tr class="tableheader">
            <th align="left">Warning Type</th>
            <th align="right">Number</th>
         </tr>
         <tr class="tablerow0">
            <td>
               <a href="#Warnings_BAD_PRACTICE">Bad practice Warnings</a>
            </td>
            <td align="right">2</td>
         </tr>
         <tr class="tablerow1">
            <td>
               <a href="#Warnings_CORRECTNESS">Correctness Warnings</a>
            </td>
            <td align="right">2</td>
         </tr>
         <tr class="tablerow0">
            <td>
               <a href="#Warnings_MALICIOUS_CODE">Malicious code vulnerability Warnings</a>
            </td>
            <td align="right">3</td>
         </tr>
         <tr class="tablerow1">
            <td>
               <a href="#Warnings_MT_CORRECTNESS">Multithreaded correctness Warnings</a>
            </td>
            <td align="right">9</td>
         </tr>
         <tr class="tablerow0">
            <td>
               <a href="#Warnings_PERFORMANCE">Performance Warnings</a>
            </td>
            <td align="right">1</td>
         </tr>
         <tr class="tablerow1">
            <td>
               <b>Total</b>
            </td>
            <td align="right">
               <b>17</b>
            </td>
         </tr>
      </table>
      <p>
         <br/>
         <br/>
      </p>
      <h1>Warnings</h1>
      <p>Click on each warning link to see a full description of the issue, and
	    details of how to resolve it.</p>
      <h2>
         <a name="Warnings_BAD_PRACTICE">Bad practice Warnings</a>
      </h2>
      <table class="warningtable"
             width="100%"
             cellspacing="2"
             cellpadding="5">
         <tr class="tableheader">
            <th align="left">Warning</th>
            <th align="left">Priority</th>
            <th align="left">Details</th>
         </tr>
         <tr class="tablerow1">
            <td width="20%" valign="top">
               <a href="#NP_BOOLEAN_RETURN_NULL">Method with Boolean return type returns explicit null</a>
            </td>
            <td width="10%" valign="top">Medium</td>
            <td width="70%">
               <p>com.alibaba.fastjson.util.TypeUtils.castToBoolean(Object) has Boolean return type and returns explicit null<br/>
                  <br/>
                  <br/>In file TypeUtils.java TypeUtils.java,
					
						line 1029 1029<br/>In class com.alibaba.fastjson.util.TypeUtils<br/>In method com.alibaba.fastjson.util.TypeUtils.castToBoolean(Object)<br/>At TypeUtils.java:[line 1029]<br/>At TypeUtils.java:[line 1029]</p>
            </td>
         </tr>
         <tr class="tablerow0">
            <td width="20%" valign="top">
               <a href="#SE_COMPARATOR_SHOULD_BE_SERIALIZABLE">Comparator doesn't implement Serializable</a>
            </td>
            <td width="10%" valign="top">Medium</td>
            <td width="70%">
               <p>com.alibaba.fastjson.util.TypeUtils$MethodInheritanceComparator implements Comparator but not Serializable<br/>
                  <br/>
                  <br/>In file TypeUtils.java,
					
						lines 3444
						    to 3457<br/>In class com.alibaba.fastjson.util.TypeUtils$MethodInheritanceComparator<br/>At TypeUtils.java:[lines 3444-3457]</p>
            </td>
         </tr>
      </table>
      <p>
         <br/>
         <br/>
      </p>
      <h2>
         <a name="Warnings_CORRECTNESS">Correctness Warnings</a>
      </h2>
      <table class="warningtable"
             width="100%"
             cellspacing="2"
             cellpadding="5">
         <tr class="tableheader">
            <th align="left">Warning</th>
            <th align="left">Priority</th>
            <th align="left">Details</th>
         </tr>
         <tr class="tablerow1">
            <td width="20%" valign="top">
               <a href="#NP_NULL_ON_SOME_PATH">Possible null pointer dereference</a>
            </td>
            <td width="10%" valign="top">Medium</td>
            <td width="70%">
               <p>Possible null pointer dereference of TypeUtils.oracleDateMethod in com.alibaba.fastjson.util.TypeUtils.castToDate(Object, String)<br/>
                  <br/>
                  <br/>In file TypeUtils.java TypeUtils.java TypeUtils.java,
					
						line 554 543 546<br/>In class com.alibaba.fastjson.util.TypeUtils<br/>In method com.alibaba.fastjson.util.TypeUtils.castToDate(Object, String)<br/>Value contained in com.alibaba.fastjson.util.TypeUtils.oracleDateMethod<br/>Dereferenced at TypeUtils.java:[line 554]<br/>Null value at TypeUtils.java:[line 543]<br/>Known null at TypeUtils.java:[line 546]</p>
            </td>
         </tr>
         <tr class="tablerow0">
            <td width="20%" valign="top">
               <a href="#NP_NULL_ON_SOME_PATH">Possible null pointer dereference</a>
            </td>
            <td width="10%" valign="top">Medium</td>
            <td width="70%">
               <p>Possible null pointer dereference of TypeUtils.oracleTimestampMethod in com.alibaba.fastjson.util.TypeUtils.castToDate(Object, String)<br/>
                  <br/>
                  <br/>In file TypeUtils.java TypeUtils.java TypeUtils.java,
					
						line 536 525 528<br/>In class com.alibaba.fastjson.util.TypeUtils<br/>In method com.alibaba.fastjson.util.TypeUtils.castToDate(Object, String)<br/>Value contained in com.alibaba.fastjson.util.TypeUtils.oracleTimestampMethod<br/>Dereferenced at TypeUtils.java:[line 536]<br/>Null value at TypeUtils.java:[line 525]<br/>Known null at TypeUtils.java:[line 528]</p>
            </td>
         </tr>
      </table>
      <p>
         <br/>
         <br/>
      </p>
      <h2>
         <a name="Warnings_MALICIOUS_CODE">Malicious code vulnerability Warnings</a>
      </h2>
      <table class="warningtable"
             width="100%"
             cellspacing="2"
             cellpadding="5">
         <tr class="tableheader">
            <th align="left">Warning</th>
            <th align="left">Priority</th>
            <th align="left">Details</th>
         </tr>
         <tr class="tablerow1">
            <td width="20%" valign="top">
               <a href="#MS_SHOULD_BE_FINAL">Field isn't final but should be</a>
            </td>
            <td width="10%" valign="top">High</td>
            <td width="70%">
               <p>com.alibaba.fastjson.util.TypeUtils.castToTimestampFunction isn't final but should be<br/>
                  <br/>
                  <br/>In file TypeUtils.java,
					
						line 682<br/>In class com.alibaba.fastjson.util.TypeUtils<br/>Field com.alibaba.fastjson.util.TypeUtils.castToTimestampFunction<br/>At TypeUtils.java:[line 682]</p>
            </td>
         </tr>
         <tr class="tablerow0">
            <td width="20%" valign="top">
               <a href="#MS_SHOULD_BE_REFACTORED_TO_BE_FINAL">Field isn't final but should be refactored to be so</a>
            </td>
            <td width="10%" valign="top">Medium</td>
            <td width="70%">
               <p>com.alibaba.fastjson.util.TypeUtils.compatibleWithFieldName isn't final but should be refactored to be so<br/>
                  <br/>
                  <br/>In file TypeUtils.java,
					
						line 63<br/>In class com.alibaba.fastjson.util.TypeUtils<br/>Field com.alibaba.fastjson.util.TypeUtils.compatibleWithFieldName<br/>At TypeUtils.java:[line 63]</p>
            </td>
         </tr>
         <tr class="tablerow1">
            <td width="20%" valign="top">
               <a href="#MS_SHOULD_BE_REFACTORED_TO_BE_FINAL">Field isn't final but should be refactored to be so</a>
            </td>
            <td width="10%" valign="top">Medium</td>
            <td width="70%">
               <p>com.alibaba.fastjson.util.TypeUtils.compatibleWithJavaBean isn't final but should be refactored to be so<br/>
                  <br/>
                  <br/>In file TypeUtils.java,
					
						line 59<br/>In class com.alibaba.fastjson.util.TypeUtils<br/>Field com.alibaba.fastjson.util.TypeUtils.compatibleWithJavaBean<br/>At TypeUtils.java:[line 59]</p>
            </td>
         </tr>
      </table>
      <p>
         <br/>
         <br/>
      </p>
      <h2>
         <a name="Warnings_MT_CORRECTNESS">Multithreaded correctness Warnings</a>
      </h2>
      <table class="warningtable"
             width="100%"
             cellspacing="2"
             cellpadding="5">
         <tr class="tableheader">
            <th align="left">Warning</th>
            <th align="left">Priority</th>
            <th align="left">Details</th>
         </tr>
         <tr class="tablerow1">
            <td width="20%" valign="top">
               <a href="#LI_LAZY_INIT_STATIC">Incorrect lazy initialization of static field</a>
            </td>
            <td width="10%" valign="top">Medium</td>
            <td width="70%">
               <p>Incorrect lazy initialization of static field com.alibaba.fastjson.util.TypeUtils.oracleDateMethod in com.alibaba.fastjson.util.TypeUtils.castToDate(Object, String)<br/>
                  <br/>
                  <br/>In file TypeUtils.java,
					
						lines 543
						    to 545<br/>In class com.alibaba.fastjson.util.TypeUtils<br/>In method com.alibaba.fastjson.util.TypeUtils.castToDate(Object, String)<br/>On field com.alibaba.fastjson.util.TypeUtils.oracleDateMethod<br/>At TypeUtils.java:[lines 543-545]</p>
            </td>
         </tr>
         <tr class="tablerow0">
            <td width="20%" valign="top">
               <a href="#LI_LAZY_INIT_STATIC">Incorrect lazy initialization of static field</a>
            </td>
            <td width="10%" valign="top">Medium</td>
            <td width="70%">
               <p>Incorrect lazy initialization of static field com.alibaba.fastjson.util.TypeUtils.oracleTimestampMethod in com.alibaba.fastjson.util.TypeUtils.castToDate(Object, String)<br/>
                  <br/>
                  <br/>In file TypeUtils.java,
					
						lines 525
						    to 527<br/>In class com.alibaba.fastjson.util.TypeUtils<br/>In method com.alibaba.fastjson.util.TypeUtils.castToDate(Object, String)<br/>On field com.alibaba.fastjson.util.TypeUtils.oracleTimestampMethod<br/>At TypeUtils.java:[lines 525-527]</p>
            </td>
         </tr>
         <tr class="tablerow1">
            <td width="20%" valign="top">
               <a href="#LI_LAZY_INIT_STATIC">Incorrect lazy initialization of static field</a>
            </td>
            <td width="10%" valign="top">Medium</td>
            <td width="70%">
               <p>Incorrect lazy initialization of static field com.alibaba.fastjson.util.TypeUtils.class_ManyToMany in com.alibaba.fastjson.util.TypeUtils.isAnnotationPresentManyToMany(Method)<br/>
                  <br/>
                  <br/>In file TypeUtils.java,
					
						lines 2866
						    to 2868<br/>In class com.alibaba.fastjson.util.TypeUtils<br/>In method com.alibaba.fastjson.util.TypeUtils.isAnnotationPresentManyToMany(Method)<br/>On field com.alibaba.fastjson.util.TypeUtils.class_ManyToMany<br/>At TypeUtils.java:[lines 2866-2868]</p>
            </td>
         </tr>
         <tr class="tablerow0">
            <td width="20%" valign="top">
               <a href="#LI_LAZY_INIT_STATIC">Incorrect lazy initialization of static field</a>
            </td>
            <td width="10%" valign="top">Medium</td>
            <td width="70%">
               <p>Incorrect lazy initialization of static field com.alibaba.fastjson.util.TypeUtils.class_OneToMany in com.alibaba.fastjson.util.TypeUtils.isAnnotationPresentOneToMany(Method)<br/>
                  <br/>
                  <br/>In file TypeUtils.java,
					
						lines 2849
						    to 2851<br/>In class com.alibaba.fastjson.util.TypeUtils<br/>In method com.alibaba.fastjson.util.TypeUtils.isAnnotationPresentOneToMany(Method)<br/>On field com.alibaba.fastjson.util.TypeUtils.class_OneToMany<br/>At TypeUtils.java:[lines 2849-2851]</p>
            </td>
         </tr>
         <tr class="tablerow1">
            <td width="20%" valign="top">
               <a href="#LI_LAZY_INIT_STATIC">Incorrect lazy initialization of static field</a>
            </td>
            <td width="10%" valign="top">Medium</td>
            <td width="70%">
               <p>Incorrect lazy initialization of static field com.alibaba.fastjson.util.TypeUtils.method_HibernateIsInitialized in com.alibaba.fastjson.util.TypeUtils.isHibernateInitialized(Object)<br/>
                  <br/>
                  <br/>In file TypeUtils.java,
					
						lines 2882
						    to 2885<br/>In class com.alibaba.fastjson.util.TypeUtils<br/>In method com.alibaba.fastjson.util.TypeUtils.isHibernateInitialized(Object)<br/>On field com.alibaba.fastjson.util.TypeUtils.method_HibernateIsInitialized<br/>At TypeUtils.java:[lines 2882-2885]</p>
            </td>
         </tr>
         <tr class="tablerow0">
            <td width="20%" valign="top">
               <a href="#LI_LAZY_INIT_STATIC">Incorrect lazy initialization of static field</a>
            </td>
            <td width="10%" valign="top">Medium</td>
            <td width="70%">
               <p>Incorrect lazy initialization of static field com.alibaba.fastjson.util.TypeUtils.class_JacksonCreator in com.alibaba.fastjson.util.TypeUtils.isJacksonCreator(Method)<br/>
                  <br/>
                  <br/>In file TypeUtils.java,
					
						lines 3404
						    to 3406<br/>In class com.alibaba.fastjson.util.TypeUtils<br/>In method com.alibaba.fastjson.util.TypeUtils.isJacksonCreator(Method)<br/>On field com.alibaba.fastjson.util.TypeUtils.class_JacksonCreator<br/>At TypeUtils.java:[lines 3404-3406]</p>
            </td>
         </tr>
         <tr class="tablerow1">
            <td width="20%" valign="top">
               <a href="#LI_LAZY_INIT_STATIC">Incorrect lazy initialization of static field</a>
            </td>
            <td width="10%" valign="top">Medium</td>
            <td width="70%">
               <p>Incorrect lazy initialization of static field com.alibaba.fastjson.util.TypeUtils.pathClass in com.alibaba.fastjson.util.TypeUtils.isPath(Class)<br/>
                  <br/>
                  <br/>In file TypeUtils.java,
					
						lines 1730
						    to 1732<br/>In class com.alibaba.fastjson.util.TypeUtils<br/>In method com.alibaba.fastjson.util.TypeUtils.isPath(Class)<br/>On field com.alibaba.fastjson.util.TypeUtils.pathClass<br/>At TypeUtils.java:[lines 1730-1732]</p>
            </td>
         </tr>
         <tr class="tablerow0">
            <td width="20%" valign="top">
               <a href="#LI_LAZY_INIT_STATIC">Incorrect lazy initialization of static field</a>
            </td>
            <td width="10%" valign="top">Medium</td>
            <td width="70%">
               <p>Incorrect lazy initialization of static field com.alibaba.fastjson.util.TypeUtils.OPTIONAL_EMPTY in com.alibaba.fastjson.util.TypeUtils.optionalEmpty(Type)<br/>
                  <br/>
                  <br/>In file TypeUtils.java,
					
						lines 3431
						    to 3434<br/>In class com.alibaba.fastjson.util.TypeUtils<br/>In method com.alibaba.fastjson.util.TypeUtils.optionalEmpty(Type)<br/>On field com.alibaba.fastjson.util.TypeUtils.OPTIONAL_EMPTY<br/>At TypeUtils.java:[lines 3431-3434]</p>
            </td>
         </tr>
         <tr class="tablerow1">
            <td width="20%" valign="top">
               <a href="#LI_LAZY_INIT_UPDATE_STATIC">Incorrect lazy initialization and update of static field</a>
            </td>
            <td width="10%" valign="top">Medium</td>
            <td width="70%">
               <p>Incorrect lazy initialization and update of static field com.alibaba.fastjson.util.TypeUtils.class_XmlAccessType in com.alibaba.fastjson.util.TypeUtils.isXmlField(Class)<br/>
                  <br/>
                  <br/>In file TypeUtils.java,
					
						lines 164
						    to 166<br/>In class com.alibaba.fastjson.util.TypeUtils<br/>In method com.alibaba.fastjson.util.TypeUtils.isXmlField(Class)<br/>On field com.alibaba.fastjson.util.TypeUtils.class_XmlAccessType<br/>At TypeUtils.java:[lines 164-166]</p>
            </td>
         </tr>
      </table>
      <p>
         <br/>
         <br/>
      </p>
      <h2>
         <a name="Warnings_PERFORMANCE">Performance Warnings</a>
      </h2>
      <table class="warningtable"
             width="100%"
             cellspacing="2"
             cellpadding="5">
         <tr class="tableheader">
            <th align="left">Warning</th>
            <th align="left">Priority</th>
            <th align="left">Details</th>
         </tr>
         <tr class="tablerow1">
            <td width="20%" valign="top">
               <a href="#SBSC_USE_STRINGBUFFER_CONCATENATION">Method concatenates strings using + in a loop</a>
            </td>
            <td width="10%" valign="top">Medium</td>
            <td width="70%">
               <p>com.alibaba.fastjson.util.TypeUtils.checkPrimitiveArray(GenericArrayType) concatenates strings using + in a loop<br/>
                  <br/>
                  <br/>In file TypeUtils.java,
					
						line 2701<br/>In class com.alibaba.fastjson.util.TypeUtils<br/>In method com.alibaba.fastjson.util.TypeUtils.checkPrimitiveArray(GenericArrayType)<br/>At TypeUtils.java:[line 2701]</p>
            </td>
         </tr>
      </table>
      <p>
         <br/>
         <br/>
      </p>
      <p>
         <br/>
         <br/>
      </p>
      <h1>
         <a name="Details">Warning Types</a>
      </h1>
      <h2>
         <a name="LI_LAZY_INIT_UPDATE_STATIC">Incorrect lazy initialization and update of static field</a>
      </h2>

<p> This method contains an unsynchronized lazy initialization of a static field.
After the field is set, the object stored into that location is further updated or accessed.
The setting of the field is visible to other threads as soon as it is set. If the
further accesses in the method that set the field serve to initialize the object, then
you have a <em>very serious</em> multithreading bug, unless something else prevents
any other thread from accessing the stored object until it is fully initialized.
</p>
<p>Even if you feel confident that the method is never called by multiple
threads, it might be better to not set the static field until the value
you are setting it to is fully populated/initialized.</p>

    <p>
         <br/>
         <br/>
      </p>
      <h2>
         <a name="LI_LAZY_INIT_STATIC">Incorrect lazy initialization of static field</a>
      </h2>

<p> This method contains an unsynchronized lazy initialization of a non-volatile static field.
Because the compiler or processor may reorder instructions,
threads are not guaranteed to see a completely initialized object,
<em>if the method can be called by multiple threads</em>.
You can make the field volatile to correct the problem.
For more information, see the
<a href="http://www.cs.umd.edu/~pugh/java/memoryModel/">Java Memory Model web site</a>.
</p>

    <p>
         <br/>
         <br/>
      </p>
      <h2>
         <a name="MS_SHOULD_BE_FINAL">Field isn't final but should be</a>
      </h2>

   <p>
This static field public but not final, and
could be changed by malicious code or
        by accident from another package.
        The field could be made final to avoid
        this vulnerability.</p>

    <p>
         <br/>
         <br/>
      </p>
      <h2>
         <a name="MS_SHOULD_BE_REFACTORED_TO_BE_FINAL">Field isn't final but should be refactored to be so</a>
      </h2>

   <p>
This static field public but not final, and
could be changed by malicious code or
by accident from another package.
The field could be made final to avoid
this vulnerability. However, the static initializer contains more than one write
to the field, so doing so will require some refactoring.
</p>

    <p>
         <br/>
         <br/>
      </p>
      <h2>
         <a name="NP_BOOLEAN_RETURN_NULL">Method with Boolean return type returns explicit null</a>
      </h2>
       
       <p>
    A method that returns either Boolean.TRUE, Boolean.FALSE or null is an accident waiting to happen.
    This method can be invoked as though it returned a value of type boolean, and
    the compiler will insert automatic unboxing of the Boolean value. If a null value is returned,
    this will result in a NullPointerException.
       </p>
       
       <p>
         <br/>
         <br/>
      </p>
      <h2>
         <a name="NP_NULL_ON_SOME_PATH">Possible null pointer dereference</a>
      </h2>

<p> There is a branch of statement that, <em>if executed,</em>  guarantees that
a null value will be dereferenced, which
would generate a <code>NullPointerException</code> when the code is executed.
Of course, the problem might be that the branch or statement is infeasible and that
the null pointer exception can't ever be executed; deciding that is beyond the ability of SpotBugs.
</p>

    <p>
         <br/>
         <br/>
      </p>
      <h2>
         <a name="SBSC_USE_STRINGBUFFER_CONCATENATION">Method concatenates strings using + in a loop</a>
      </h2>

<p> The method seems to be building a String using concatenation in a loop.
In each iteration, the String is converted to a StringBuffer/StringBuilder,
   appended to, and converted back to a String.
   This can lead to a cost quadratic in the number of iterations,
   as the growing string is recopied in each iteration. </p>

<p>Better performance can be obtained by using
a StringBuffer (or StringBuilder in Java 1.5) explicitly.</p>

<p> For example:</p>
<pre><code>// This is bad
String s = "";
for (int i = 0; i &lt; field.length; ++i) {
    s = s + field[i];
}

// This is better
StringBuffer buf = new StringBuffer();
for (int i = 0; i &lt; field.length; ++i) {
    buf.append(field[i]);
}
String s = buf.toString();
</code></pre>

    <p>
         <br/>
         <br/>
      </p>
      <h2>
         <a name="SE_COMPARATOR_SHOULD_BE_SERIALIZABLE">Comparator doesn't implement Serializable</a>
      </h2>

  <p> This class implements the <code>Comparator</code> interface. You
should consider whether or not it should also implement the <code>Serializable</code>
interface. If a comparator is used to construct an ordered collection
such as a <code>TreeMap</code>, then the <code>TreeMap</code>
will be serializable only if the comparator is also serializable.
As most comparators have little or no state, making them serializable
is generally easy and good defensive programming.
</p>

    <p>
         <br/>
         <br/>
      </p>
   </body>
</html>
